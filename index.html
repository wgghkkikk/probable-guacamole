// --- Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ØªØ¨ Ø§Ù„Ù…ØªØ·ÙˆØ± ---
function checkRankUpgrade(msgCount) {
    if (msgCount >= 500) return { name: "Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„Ù…Ù…Ù„ÙƒØ© ğŸ‘‘", color: "#ff0000", glow: "0 0 10px red" };
    if (msgCount >= 200) return { name: "ÙˆØ²ÙŠØ± Ø§Ù„Ù…Ù…Ù„ÙƒØ© ğŸ–ï¸", color: "#00ff00", glow: "none" };
    if (msgCount >= 50) return { name: "ÙØ§Ø±Ø³ Ø§Ù„Ù…Ù…Ù„ÙƒØ© âš”ï¸", color: "#00ccff", glow: "none" };
    return { name: "Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯ ğŸŒ±", color: "#888", glow: "none" };
}

// --- Ù…ÙŠØ²Ø© Ø§Ù„Ù‡Ù…Ø³ (Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø§ØµØ©) ---
function sendWhisper(targetUID, targetName) {
    const msg = prompt(`Ø£Ø±Ø³Ù„ Ø±Ø³Ø§Ù„Ø© Ø®Ø§ØµØ© Ø¥Ù„Ù‰ ${targetName}:`);
    if (msg) {
        db.ref('main_msgs').push({
            uid: myID,
            n: myD.n,
            av: myD.av,
            t: `(Ù‡Ù…Ø³ Ø¥Ù„Ù‰ ${targetName}): ${msg}`,
            isWhisper: true,
            toUID: targetUID,
            time: Date.now()
        });
    }
}

// --- Ù…ÙŠØ²Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ (Ø¥Ø±Ø³Ø§Ù„ Ù„Ø§ÙŠÙƒ Ø³Ø±ÙŠØ¹) ---
function sendQuickLike() {
    db.ref('main_msgs').push({
        uid: myID,
        n: myD.n,
        av: myD.av,
        t: "ğŸ‘ğŸ»â¤",
        type: "reaction",
        time: Date.now()
    });
}
