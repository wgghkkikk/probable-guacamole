// 1. ุงูุฑุจุท ุจูุดุฑูุนู (ุญุณุจ ุงูุตูุฑ ุงููู ุฏุฒูุชูุง)
const db = firebase.database();

// 2. ูุฐุง ุงูุงุณู ุงููู ุฑุงุญ ุชุฏุฎูู ูู ุฎุงูุฉ ุงูุงุณู ุจุงูุดุงุช
let myName = "ุนููุด"; 
let iAmTheMaster = false;

// 3. ูุญุต ุงูุตูุงุญูุฉ ูู ุงูุณูุฑูุฑ (ุงูุฌุฒุก ุงูุฃูู)
db.ref('master').on('value', (snapshot) => {
    if (snapshot.val() === myName) {
        iAmTheMaster = true;
        console.log("ุชู ุชูุนูู ุตูุงุญูุงุช ุงูุฅูุจุฑุงุทูุฑ ุนููุด ๐");
        // ููุง ุงูููุฏ ูุธูุฑ ูู ุฃุฒุฑุงุฑ ุงูุชุญูู ุชููุงุฆูุงู
        document.getElementById('admin-btn').style.display = 'block';
    }
});

// 4. ูุธููุฉ "ุงูุทุฑุฏ" ุงูุจุฑูุฌูุฉ
function kickUser(targetName) {
    if (iAmTheMaster) {
        // ุฅุฑุณุงู ุฃูุฑ ุทุฑุฏ ููุนุถู ุงููุณุชูุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
        db.ref('actions/' + targetName).set({
            type: 'KICK',
            admin: myName,
            time: Date.now()
        });
        alert("ุชู ุทุฑุฏ " + targetName + " ุจูุฌุงุญ โ");
    } else {
        alert("ุนุฐุฑุงูุ ุฃูุช ูุง ุชููู ุตูุงุญูุฉ ุงููุงุณุชุฑ โ");
    }
}
