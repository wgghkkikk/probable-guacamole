<style>
    /* 1. ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ø§Ù„Ù…Ù‚Ù„ÙˆØ¨ [Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ù„ÙƒÙŠ] */
    .input-area {
        display: flex;
        flex-direction: row-reverse; /* ÙŠØ®Ù„ÙŠ Ø§Ù„Ø²Ø± Ø¹Ø§Ù„ÙŠØ³Ø§Ø± ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø© Ø¹Ø§Ù„ÙŠÙ…ÙŠÙ† */
        gap: 10px;
        background: rgba(255, 215, 0, 0.1);
        padding: 15px;
        border: 2px dashed var(--gold);
    }

    #send-btn {
        transform: scaleX(-1); /* ÙŠÙ‚Ù„Ø¨ Ø´ÙƒÙ„ Ø§Ù„Ø²Ø± Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙŠÙ‡ Ø³Ù‡Ù… */
        background: linear-gradient(45deg, #8b0000, #ff0000);
        color: gold;
        border: 2px solid gold;
        font-weight: bold;
        padding: 10px 25px;
        cursor: pointer;
    }

    /* 2. Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠØ§Øª ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø© [Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ù„ÙƒÙŠ] */
    #emoji-list {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%); /* ÙŠØ®Ù„ÙŠÙ‡Ø§ Ø¨Ù†Øµ Ø§Ù„Ø´Ø§Ø´Ø© Ø¨Ø§Ù„Ø¶Ø¨Ø· */
        width: 80%;
        max-height: 400px;
        background: rgba(0, 0, 0, 0.9);
        border: 3px double var(--gold);
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
        z-index: 5000;
        padding: 20px;
        box-shadow: 0 0 50px red;
        display: none; /* ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø© */
    }

    /* 3. Ø§Ù„Ø²Ø®Ø±ÙØ© ÙˆØ§Ù„Ù„Ø§ÙˆØ§Øª ğ“†© ğ“†ª */
    .line b::before { content: "ğ“†© "; color: var(--gold); }
    .line b::after { content: " ğ“†ª"; color: var(--gold); }
    
    .royal-carpet {
        border-left: 5px solid gold;
        border-right: 5px solid gold;
        background: url('https://www.transparenttextures.com/patterns/royal-lineage.png'), linear-gradient(90deg, #4b0000, #8b0000);
        text-align: center;
        font-size: 1.2em;
    }

    /* Ø²Ø®Ø±ÙØ© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù†ØµÙˆØµ */
    .decorated-text {
        font-family: 'Lateef', serif;
        text-shadow: 1px 1px 2px black, 0 0 1em blue, 0 0 0.2em blue;
    }
</style>

<div id="emoji-list">
    </div>

<div class="input-area">
    <button id="send-btn" onclick="send()">Ø¥Ø±Ø³Ø§Ù„ âŸ¸</button>
    <input type="text" id="msg-in" class="decorated-text" placeholder="Ù€ï®©ï®©Ù¨ï®©ï®©ğŸ‘‘ Ù…Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ù„Ùƒ ğŸ‘‘ï®©ï®©Ù¨ï®©ï®©Ù€">
    <button onclick="toggleEmoji()" style="background:none; border:1px solid gold; color:gold;">ğŸ˜Š</button>
</div>

<script>
    // Ø¥Ø¸Ù‡Ø§Ø± ÙˆØ¥Ø®ÙØ§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠØ§Øª Ù…Ù† Ù†Øµ Ø§Ù„Ø´Ø§Ø´Ø©
    function toggleEmoji() {
        const el = document.getElementById('emoji-list');
        el.style.display = (el.style.display === 'none' || el.style.display === '') ? 'grid' : 'none';
    }

    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø²Ø®Ø±ÙØ© Ø§Ù„Ø¢Ù„ÙŠØ© Ù„Ù„Ø±Ø³Ø§Ø¦Ù„
    function decorate(text) {
        return "ê§ " + text + " ê§‚";
    }

    // ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„ÙŠØ´Ù…Ù„ Ø§Ù„Ø²Ø®Ø±ÙØ©
    function send() {
        const inp = document.getElementById('msg-in');
        if(inp.value.trim()) {
            const decoratedMsg = decorate(inp.value);
            // Ø¥Ø±Ø³Ø§Ù„ decoratedMsg Ù„Ù€ Firebase
            renderMessage({u: "Ø¹Ù„ÙˆØ´", t: decoratedMsg, effect: "fire_rain"});
            triggerEffects(); // Ø§Ù„Ø¨Ø±Ù‚ ÙˆØ§Ù„Ø±Ø¹Ø¯ ÙˆØ§Ù„Ø²Ù„Ø²Ø§Ù„
            inp.value = "";
        }
    }
</script>
