<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ğŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ | Ù†Ø¸Ø§Ù… Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø®Ø§Ø±Ù‚Ø©</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root { --gold: #d4af37; --bg: #050505; }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        header { background: #111; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--gold); z-index: 1000; }
        .nav-btn { background: #222; border: 1px solid var(--gold); color: var(--gold); padding: 6px 12px; border-radius: 5px; cursor: pointer; font-size: 13px; font-weight: bold; }

        #wrapper { display: flex; flex: 1; position: relative; overflow: hidden; }
        .sidebar { position: absolute; top: 0; width: 250px; height: 100%; background: #111; transition: 0.4s ease; z-index: 500; border: 1px solid #333; }
        #admin-panel { right: -260px; border-left: 2px solid red; }
        #color-panel { right: -260px; border-left: 2px solid var(--gold); }
        #users-panel { left: -260px; border-right: 2px solid var(--gold); }
        .open-right { right: 0 !important; }
        .open-left { left: 0 !important; }

        #messages { flex: 1; overflow-y: auto; padding: 20px; background: #000; }
        .line { border-bottom: 1px solid #1a1a1a; padding: 8px 0; font-size: 15px; }

        /* --- ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© --- */
        
        /* 1. ØªØ£Ø«ÙŠØ± Ù‚ÙˆØ³ Ù‚Ø²Ø­ */
        .rainbow { animation: rainbow-anim 2s infinite linear; font-weight: bold; }
        @keyframes rainbow-anim { 0% {color: red;} 33% {color: lime;} 66% {color: blue;} 100% {color: red;} }

        /* 2. ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø§Ø± */
        .fire { 
            color: #ff4500; font-weight: bold;
            text-shadow: 0 -2px 4px #fff, 0 -4px 10px #ff0, 0 -10px 20px #ff8000, 0 -18px 40px #f00;
            animation: fire-anim 1s infinite alternate;
        }
        @keyframes fire-anim { from { text-shadow: 0 -2px 4px #fff, 0 -4px 10px #ff0, 0 -10px 20px #ff8000, 0 -18px 40px #f00; } 
                               to { text-shadow: 0 -2px 4px #fff, 0 -4px 15px #ff0, 0 -12px 25px #ff8000, 0 -20px 50px #f00; } }

        /* 3. ØªØ£Ø«ÙŠØ± Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ø³Ø§Ø¦Ù„ */
        .gold-flow {
            background: linear-gradient(to right, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-size: 200% auto; animation: gold-anim 2s linear infinite; font-weight: bold;
        }
        @keyframes gold-anim { to { background-position: 200% center; } }

        /* 4. ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†ÙŠÙˆÙ† Ø§Ù„Ù…Ø´Ø¹ */
        .neon { color: #fff; font-weight: bold; animation: neon-anim 1.5s ease-in-out infinite alternate; }
        @keyframes neon-anim { from { text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 20px #0ff; } to { text-shadow: 0 0 10px #0ff, 0 0 20px #0ff, 0 0 40px #0ff; } }

        footer { padding: 15px; background: #111; border-top: 1px solid var(--gold); display: flex; gap: 10px; }
        input { flex: 1; padding: 12px; border-radius: 20px; border: 1px solid #444; background: #000; color: #fff; outline: none; }
    </style>
</head>
<body>

    <header>
        <button class="nav-btn" onclick="toggleSide('admin-panel')">âš™ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
        <button class="nav-btn" onclick="toggleSide('color-panel')" style="color: cyan; border-color: cyan;">ğŸ”¥ ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ø·</button>
        <div style="font-weight: bold; color: var(--gold);">ğŸ‘‘ Ù…Ù€Ù…Ù€Ù„Ù€ÙƒÙ€Ø© Ø¹Ù€Ù„Ù€ÙˆØ´</div>
        <button class="nav-btn" onclick="toggleSide('users-panel', 'left')">ğŸ‘¥ Ø§Ù„Ù…ØªØµÙ„ÙˆÙ†</button>
    </header>

    <div id="wrapper">
        <div id="admin-panel" class="sidebar">
            <div style="padding:20px;"><h3>âš™ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3><button class="nav-btn" onclick="clearDB()">ğŸ§¹ Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª</button></div>
        </div>

        <div id="color-panel" class="sidebar">
            <div style="padding:20px;">
                <h3 style="color:var(--gold);">ğŸ¨ ØªØ£Ø«ÙŠØ±Ø§Øª Ù…Ù„ÙƒÙŠØ©</h3>
                <label>Ø§Ø®ØªØ± Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…ØªØ­Ø±Ùƒ:</label><br><br>
                <select id="f-anim" onchange="updateS()" style="width:100%; padding:10px; background:#222; color:#fff; border:1px solid gold;">
                    <option value="">Ø®Ø· Ø¹Ø§Ø¯ÙŠ</option>
                    <option value="rainbow">ğŸŒˆ Ù‚ÙˆØ³ Ù‚Ø²Ø­</option>
                    <option value="fire">ğŸ”¥ Ø®Ø· Ø§Ù„Ù†Ø§Ø±</option>
                    <option value="gold-flow">ğŸ’° Ø°Ù‡Ø¨ Ù…ØªØ­Ø±Ùƒ</option>
                    <option value="neon">ğŸ’ Ù†ÙŠÙˆÙ† Ù…Ø´Ø¹</option>
                </select>
                <br><br>
                <label>Ø£Ùˆ Ø§Ø®ØªØ± Ù„ÙˆÙ† Ø«Ø§Ø¨Øª:</label>
                <input type="color" id="f-color" value="#ffffff" onchange="updateS()" style="width:100%; height:40px; margin-top:5px;">
            </div>
        </div>

        <div id="chat-window"><div id="messages"></div></div>

        <div id="users-panel" class="sidebar">
            <div style="padding:20px;"><h3>ğŸ‘¥ Ø§Ù„Ù…ØªØµÙ„ÙˆÙ†</h3><div style="color:#00ff00;">â— Ø§Ù„Ù…Ù„Ùƒ Ø¹Ù„ÙˆØ´</div></div>
        </div>
    </div>

    <footer>
        <input type="text" id="msg-in" placeholder="Ø£ØµØ¯Ø± Ø£ÙˆØ§Ù…Ø±Ùƒ...">
        <button class="nav-btn" onclick="send()" style="padding:0 30px;">Ø¥Ø±Ø³Ø§Ù„</button>
    </footer>

    <script>
        const firebaseConfig = { databaseURL: "https://alloush-kingdom-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let myS = { c: '#ffffff', a: '' };
        function updateS() { 
            myS.c = document.getElementById('f-color').value; 
            myS.a = document.getElementById('f-anim').value; 
        }

        function toggleSide(id, side = 'right') {
            const el = document.getElementById(id);
            el.classList.toggle(side === 'right' ? 'open-right' : 'open-left');
        }

        function send() {
            const inp = document.getElementById('msg-in');
            if(inp.value.trim()) {
                db.ref("messages").push().set({ u: "Ø¹Ù„ÙˆØ´", t: inp.value, s: {c: myS.c, a: myS.a}, time: new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'}) });
                inp.value = "";
            }
        }

        db.ref("messages").limitToLast(50).on("child_added", (snap) => {
            const d = snap.val();
            const box = document.getElementById('messages');
            const div = document.createElement('div');
            div.className = 'line';
            const s = d.s || {c: '#fff', a: ''};
            div.innerHTML = `<b style="color:var(--gold)">${d.u}:</b> <span class="${s.a}" style="color:${s.c}">${d.t}</span> <small style="float:left; color:#333;">${d.time}</small>`;
            box.appendChild(div); box.scrollTop = box.scrollHeight;
        });

        function clearDB() { if(confirm("Ù…Ø³Ø­ØŸ")) db.ref("messages").remove(); location.reload(); }
        document.getElementById('msg-in').onkeypress = (e) => { if(e.key==='Enter') send(); };
    </script>
</body>
</html>
