<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ğŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ | Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root { --gold: #d4af37; --bg: #050505; }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        header { 
            background: #111; padding: 10px 15px; display: flex; justify-content: space-between; 
            align-items: center; border-bottom: 2px solid var(--gold); z-index: 1000;
        }
        .nav-btn { background: #222; border: 1px solid var(--gold); color: var(--gold); padding: 6px 12px; border-radius: 5px; cursor: pointer; font-size: 13px; font-weight: bold; }
        .nav-btn:hover { background: var(--gold); color: black; }

        #wrapper { display: flex; flex: 1; position: relative; overflow: hidden; }

        /* Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ø§Ù„Ø«Ù„Ø§Ø«Ø© */
        .sidebar { 
            position: absolute; top: 0; width: 250px; height: 100%; 
            background: #111; transition: 0.4s ease; z-index: 500; border: 1px solid #333; 
        }
        #admin-panel { right: -260px; border-left: 2px solid red; } /* Ø¥Ø¯Ø§Ø±Ø© */
        #color-panel { right: -260px; border-left: 2px solid var(--gold); } /* Ø£Ù„ÙˆØ§Ù† */
        #users-panel { left: -260px; border-right: 2px solid var(--gold); } /* Ù…ØªØµÙ„ÙˆÙ† */

        /* ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… */
        .open-right { right: 0 !important; }
        .open-left { left: 0 !important; }

        /* Ø§Ù„Ø´Ø§Øª */
        #chat-window { flex: 1; display: flex; flex-direction: column; background: #000; }
        #messages { flex: 1; overflow-y: auto; padding: 20px; }
        .line { border-bottom: 1px solid #1a1a1a; padding: 8px 0; font-size: 15px; }

        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ· */
        @keyframes rainbow { 0% {color: red;} 20% {color: yellow;} 40% {color: lime;} 60% {color: cyan;} 80% {color: blue;} 100% {color: magenta;} }
        @keyframes glow { from { text-shadow: 0 0 5px #fff, 0 0 10px var(--gold); } to { text-shadow: 0 0 10px #fff, 0 0 20px var(--gold); } }
        .rainbow { animation: rainbow 2s infinite linear; font-weight: bold; }
        .glow { animation: glow 1s infinite alternate; }

        footer { padding: 15px; background: #111; border-top: 1px solid var(--gold); display: flex; gap: 10px; }
        input { flex: 1; padding: 12px; border-radius: 20px; border: 1px solid #444; background: #000; color: #fff; outline: none; }
    </style>
</head>
<body>

    <header>
        <button class="nav-btn" onclick="toggleSide('admin-panel')">âš™ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
        <button class="nav-btn" onclick="toggleSide('color-panel')" style="color: cyan; border-color: cyan;">ğŸ¨ ØµØ¨Øº Ø§Ù„Ø®Ø·</button>
        <div style="font-weight: bold; color: var(--gold);">ğŸ‘‘ Ù…Ù€Ù…Ù€Ù„Ù€ÙƒÙ€Ø© Ø¹Ù€Ù„Ù€ÙˆØ´</div>
        <button class="nav-btn" onclick="toggleSide('users-panel', 'left')">ğŸ‘¥ Ø§Ù„Ù…ØªØµÙ„ÙˆÙ†</button>
    </header>

    <div id="wrapper">
        <div id="admin-panel" class="sidebar">
            <div style="padding:20px;">
                <h3 style="color:red;">âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h3>
                <button class="nav-btn" style="width:100%; margin-top:10px;" onclick="clearDB()">ğŸ§¹ Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª</button>
                <p style="font-size:12px; color:#666; margin-top:20px;">ØªØ­ÙƒÙ… Ù…Ø·Ù„Ù‚ Ù„Ù„Ù…Ù„Ùƒ ÙÙ‚Ø·.</p>
            </div>
        </div>

        <div id="color-panel" class="sidebar">
            <div style="padding:20px;">
                <h3 style="color:var(--gold);">ğŸ¨ ØµØ¨Øº Ø§Ù„Ø®Ø·</h3>
                <label>Ø§Ù„Ù„ÙˆÙ†:</label><br>
                <input type="color" id="f-color" value="#ffffff" onchange="updateS()" style="width:100%; height:40px; border:none; background:none;"><br><br>
                <label>Ø§Ù„Ø­Ø±ÙƒØ©:</label><br>
                <select id="f-anim" onchange="updateS()" style="width:100%; padding:10px; background:#222; color:#fff;">
                    <option value="">Ø¨Ø¯ÙˆÙ† Ø­Ø±ÙƒØ©</option>
                    <option value="rainbow">Ù‚ÙˆØ³ Ù‚Ø²Ø­</option>
                    <option value="glow">ØªÙˆÙ‡Ø¬ Ù…Ù„ÙƒÙŠ</option>
                </select>
            </div>
        </div>

        <div id="chat-window">
            <div id="messages"></div>
        </div>

        <div id="users-panel" class="sidebar">
            <div style="padding:20px;">
                <h3 style="color:var(--gold);">ğŸ‘¥ Ø§Ù„Ù…ØªÙˆØ§Ø¬Ø¯ÙˆÙ†</h3>
                <div style="color:#00ff00;">â— Ø§Ù„Ù…Ù„Ùƒ Ø¹Ù„ÙˆØ´</div>
            </div>
        </div>
    </div>

    <footer>
        <input type="text" id="msg-in" placeholder="Ø£ØµØ¯Ø± Ø£ÙˆØ§Ù…Ø±Ùƒ...">
        <button class="nav-btn" onclick="send()" style="padding:0 30px;">Ø¥Ø±Ø³Ø§Ù„</button>
    </footer>

    <script>
        const firebaseConfig = { databaseURL: "https://alloush-kingdom-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let myS = { c: '#ffffff', a: '' };
        function updateS() { 
            myS.c = document.getElementById('f-color').value; 
            myS.a = document.getElementById('f-anim').value; 
        }

        function toggleSide(id, side = 'right') {
            const el = document.getElementById(id);
            if(side === 'right') el.classList.toggle('open-right');
            else el.classList.toggle('open-left');
        }

        function send() {
            const inp = document.getElementById('msg-in');
            if(inp.value.trim()) {
                db.ref("messages").push().set({
                    u: "Ø¹Ù„ÙˆØ´",
                    t: inp.value,
                    s: myS,
                    time: new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})
                });
                inp.value = "";
            }
        }

        db.ref("messages").limitToLast(50).on("child_added", (snap) => {
            const d = snap.val();
            const box = document.getElementById('messages');
            const div = document.createElement('div');
            div.className = 'line';
            const s = d.s || {c: '#fff', a: ''};
            div.innerHTML = `<b style="color:var(--gold)">${d.u}:</b> <span class="${s.a}" style="color:${s.c}">${d.t}</span> <small style="float:left; color:#333;">${d.time}</small>`;
            box.appendChild(div);
            box.scrollTop = box.scrollHeight;
        });

        function clearDB() { if(confirm("Ù…Ø³Ø­ØŸ")) db.ref("messages").remove(); location.reload(); }
        document.getElementById('msg-in').onkeypress = (e) => { if(e.key==='Enter') send(); };
    </script>
</body>
</html>
