<style>
    /* 1. Ù‡ÙŠÙƒÙ„Ø© Ø§Ù„Ø£Ø¬Ù†Ø­Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Ø§Ù„Ø¬Ù‡ØªÙŠÙ†) */
    .side-panel {
        position: fixed;
        top: 60px;
        width: 200px;
        height: calc(100% - 150px);
        background: rgba(0, 0, 0, 0.85);
        border: 2px solid var(--gold);
        padding: 15px;
        z-index: 1000;
        overflow-y: auto;
        border-radius: 15px;
        box-shadow: 0 0 20px var(--gold);
    }
    
    #users-panel { right: 10px; } /* Ø¬Ù‡Ø© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† */
    #settings-panel { left: 10px; } /* Ø¬Ù‡Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† */

    .panel-title {
        text-align: center;
        color: var(--gold);
        font-weight: bold;
        border-bottom: 1px double var(--gold);
        margin-bottom: 15px;
        padding-bottom: 5px;
        font-size: 18px;
    }

    /* 2. Ø²Ø®Ø±ÙØ© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† ğ“†© ğ“†ª */
    .user-entry {
        padding: 8px;
        margin-bottom: 5px;
        border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    .user-entry::before { content: "ğ“†©"; color: var(--gold); }
    .user-entry::after { content: "ğ“†ª"; color: var(--gold); }

    /* 3. Ø£Ù„ÙˆØ§Ù† ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø²Ø®Ø±ÙØ© */
    .color-btn {
        width: 100%;
        margin-bottom: 10px;
        padding: 8px;
        border: 1px solid var(--gold);
        background: #222;
        color: white;
        cursor: pointer;
        border-radius: 5px;
        transition: 0.3s;
    }
    .color-btn:hover { background: var(--gold); color: black; }

    /* 4. ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø§Øª Ù„ÙŠÙƒÙˆÙ† Ø¨Ø§Ù„Ù…Ù†ØªØµÙ Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù‡ØªÙŠÙ† */
    #chat-container {
        margin: 0 220px; /* ØªØ±Ùƒ Ù…Ø³Ø§ÙØ© Ù„Ù„Ø£Ø¬Ù†Ø­Ø© */
    }

    @media (max-width: 800px) {
        .side-panel { display: none; } /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø¬Ù†Ø­Ø© ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„Ø¹Ø¯Ù… Ø§Ù„Ø²Ø­Ù…Ø© */
        #chat-container { margin: 0; }
    }
</style>

<div id="users-panel" class="side-panel">
    <div class="panel-title">ğ“†© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† ğ“†ª</div>
    <div id="user-list">
        <div class="user-entry">Ø§Ù„Ù…Ù„Ùƒ Ø¹Ù„ÙˆØ´ ğŸ‘‘</div>
        <div class="user-entry">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</div>
    </div>
</div>

<div id="settings-panel" class="side-panel">
    <div class="panel-title">ğ“†© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ğ“†ª</div>
    <button class="color-btn" onclick="changeTheme('gold')">ØªØºÙŠÙŠØ± Ù„Ù„Ø°Ù‡Ø¨ÙŠ âœ¨</button>
    <button class="color-btn" onclick="changeTheme('fire')">Ø«ÙŠÙ… Ø§Ù„Ù†Ø§Ø± ğŸ”¥</button>
    <button class="color-btn" onclick="changeTheme('royal')">Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ù…Ù„ÙƒÙŠ ğŸ‘‘</button>
    <div style="margin-top:20px; color:var(--gold); font-size:12px; text-align:center;">
        Ù€ï®©ï®©Ù¨ï®©ï®© Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ ï®©ï®©Ù¨ï®©ï®©Ù€
    </div>
</div>

<script>
    // Ù†Ø¸Ø§Ù… ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø²Ø®Ø±ÙØ© ÙÙˆØ±Ø§Ù‹
    function changeTheme(type) {
        if(type === 'gold') {
            document.documentElement.style.setProperty('--gold', '#ffd700');
            document.body.style.background = "#000";
        } else if(type === 'fire') {
            document.documentElement.style.setProperty('--gold', '#ff4500');
            document.body.style.background = "radial-gradient(circle, #200 0%, #000 100%)";
        } else if(type === 'royal') {
            document.documentElement.style.setProperty('--gold', '#c0c0c0');
            document.body.style.background = "#1a1a1a";
        }
        triggerRoyalEffects(); // ÙˆÙ…ÙŠØ¶ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø«ÙŠÙ…
    }

    // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† (Ø±Ø¨Ø· Ù…Ø¹ Firebase)
    db.ref("users").on("value", (snap) => {
        const uList = document.getElementById('user-list');
        uList.innerHTML = "";
        snap.forEach(user => {
            let div = document.createElement('div');
            div.className = "user-entry";
            div.innerText = user.val().name;
            uList.appendChild(div);
        });
    });
</script>
