<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ğŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© ğŸ‘‘</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { background: radial-gradient(circle, #1a1a1a, #000); color: gold; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; margin: 0; overflow: hidden; }
        #royal-header { background: linear-gradient(to bottom, #d4af37, #8a6d3b); color: #000; padding: 10px; font-weight: bold; font-size: 24px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        #stats-bar { display: flex; justify-content: space-around; background: rgba(255,215,0,0.1); padding: 5px; border-bottom: 1px solid gold; }
        #chat-screen { height: 60vh; overflow-y: auto; background: rgba(0,0,0,0.8); border: 3px double gold; margin: 20px auto; width: 90%; padding: 15px; border-radius: 15px; text-align: left; box-shadow: inset 0 0 20px gold; }
        .msg { margin-bottom: 10px; border-bottom: 1px dashed #333; padding: 5px; animation: fadeIn 0.5s; }
        .king-style { color: gold; font-weight: bold; text-shadow: 0 0 10px gold; }
        #input-area { position: fixed; bottom: 20px; width: 100%; }
        input { width: 60%; padding: 15px; border-radius: 25px; border: 2px solid gold; background: #222; color: #fff; outline: none; }
        button { padding: 15px 30px; border-radius: 25px; border: none; background: gold; color: #000; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { background: #fff; transform: scale(1.1); }
        #youtube-player { position: absolute; top: 70px; right: 20px; width: 200px; height: 150px; border: 2px solid gold; border-radius: 10px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div id="royal-header">ğŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´: Ø§Ù„Ø¥ØµØ¯Ø§Ø± 70 ğŸ‘‘</div>
    
    <div id="stats-bar">
        <span>Ø§Ù„Ø²ÙˆØ§Ø± Ø§Ù„Ø¢Ù†: <b id="visitor-count">1</b></span>
        <span>Ø§Ù„Ø­Ù…Ø§ÙŠØ©: <b style="color: lime;">Ù…ÙØ¹Ù„Ø© âœ…</b></span>
        <span>Ø§Ù„Ù…ÙˆÙ‚Ø¹: <b style="color: cyan;">Ø¹Ø§Ù„Ù…ÙŠ ğŸŒ</b></span>
    </div>

    <iframe id="youtube-player" src="https://www.youtube.com/embed/live_stream?channel=UC-9-kyTW8DZMz-976vL-T6g&autoplay=1&mute=1" frameborder="0" allowfullscreen></iframe>

    <div id="chat-screen"></div>
    
    <div id="input-area">
        <input id="chat-input" type="text" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ù‡Ù†Ø§...">
        <button onclick="sendMsg()">Ø¥Ø±Ø³Ø§Ù„ âœ¨</button>
        <button id="king-btn" onclick="activateKing()" style="background:red; color:white; display:none;">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ§Ø¬ ğŸ‘‘</button>
    </div>

    <script>
        const firebaseConfig = { databaseURL: "https://alloush-kingdom-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ù…Ù„Ùƒ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙØ¹Ù„Ø§Ù‹
        if(localStorage.getItem("is_king") !== "true") {
            document.getElementById('king-btn').style.display = 'inline-block';
        }

        function activateKing() {
            localStorage.setItem("is_king", "true");
            alert("ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ØµÙ…Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø¨Ø¬Ù‡Ø§Ø²Ùƒ ÙŠØ§ Ù…Ù„Ùƒ Ø¹Ù„ÙˆØ´! ğŸ‘‘");
            location.reload();
        }

        function sendMsg() {
            let input = document.getElementById('chat-input');
            let isKing = localStorage.getItem("is_king") === "true";
            let user = isKing ? "ğŸ‘‘ Ø¹Ù„ÙˆØ´" : "Ø²Ø§Ø¦Ø±";
            let rank = isKing ? "Ù…Ù„Ùƒ Ø§Ù„Ù…Ù…Ù„ÙƒØ©" : "Ù…ÙˆØ§Ø·Ù†";

            if(input.value.trim() !== "") {
                db.ref("messages").push().set({
                    user: user,
                    text: input.value,
                    rank: rank,
                    isKing: isKing
                });
                input.value = "";
            }
        }

        db.ref("messages").on("child_added", (snapshot) => {
            let msg = snapshot.val();
            let style = msg.isKing ? 'king-style' : '';
            document.getElementById('chat-screen').innerHTML += `
                <div class="msg">
                    <span class="${style}">[${msg.rank}] ${msg.user}:</span> ${msg.text}
                </div>`;
            document.getElementById('chat-screen').scrollTop = document.getElementById('chat-screen').scrollHeight;
        });

        // Ø¹Ø¯Ø§Ø¯ Ø²ÙˆØ§Ø± ÙˆÙ‡Ù…ÙŠ Ø°ÙƒÙŠ
        setInterval(() => {
            document.getElementById('visitor-count').innerText = Math.floor(Math.random() * 5) + 1;
        }, 5000);
    </script>
</body>
</html>
