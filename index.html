<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø´Ø§Øª Ø§Ù„Ø¨Ø±Ù†Ø³ | Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</title>
    <style>
        :root { --main: #2c3e50; --gold: #f1c40f; --accent: #3498db; --bg: #000; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Tahoma', sans-serif; }
        
        body { background: var(--bg); color: #fff; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± --- */
        header { 
            height: 60px; background: rgba(0,0,0,0.9); border-bottom: 2px solid var(--gold);
            display: flex; justify-content: space-between; align-items: center; padding: 0 15px; z-index: 1001;
        }
        .h-btn { text-align: center; cursor: pointer; color: var(--gold); font-size: 11px; }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© --- */
        #chat-window { 
            flex: 1; padding: 15px; overflow-y: auto; background: url('https://www.transparenttextures.com/patterns/dark-matter.png');
            display: flex; flex-direction: column; gap: 10px;
        }

        /* --- Ù…Ø´ØºÙ„ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ (Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø®Ø§Øµ) --- */
        #yt-player {
            position: absolute; top: 70px; left: 10px; width: 320px; background: #000;
            border: 2px solid var(--gold); border-radius: 10px; display: none; z-index: 5000;
        }
        .yt-header { background: #111; padding: 5px 10px; display: flex; justify-content: space-between; cursor: move; }
        .yt-body iframe { width: 100%; height: 180px; border-radius: 0 0 10px 10px; }
        #yt-player.small { width: 150px; height: 40px; overflow: hidden; }

        /* --- Ù„ÙˆØ­Ø© Ø§Ù„ØºØ±Ù (ØªÙØªØ­ ÙˆØªØºÙ„Ù‚) --- */
        #rooms-panel {
            position: absolute; inset: 0; background: #f4f4f4; z-index: 4000;
            padding: 20px; display: none; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; overflow-y: auto;
        }
        .room-card { background: #fff; border-radius: 12px; border: 1px solid #ddd; overflow: hidden; color: #000; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .room-btn { background: #222; color: #fff; padding: 10px; text-align: center; cursor: pointer; }

        /* --- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© --- */
        #users-panel { 
            position: absolute; right: -280px; top: 60px; bottom: 50px; width: 260px; 
            background: #fff; color: #000; transition: 0.3s; z-index: 3000; border-left: 2px solid var(--gold);
        }
        #users-panel.active { right: 0; }

        /* --- Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ --- */
        .msg { background: rgba(255,255,255,0.1); padding: 10px; border-radius: 15px; border-right: 4px solid var(--accent); max-width: 85%; }
        .m-name { font-weight: bold; color: var(--gold); font-size: 13px; }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„ÙƒØªØ§Ø¨Ø© --- */
        .input-bar { height: 60px; background: #111; display: flex; align-items: center; padding: 0 10px; gap: 10px; }
        #msg-input { flex: 1; padding: 12px; background: #000; border: 1px solid #333; color: #fff; border-radius: 20px; outline: none; }
        .send-btn { background: var(--gold); border: none; padding: 10px 20px; border-radius: 20px; font-weight: bold; cursor: pointer; }

        /* --- Ø§Ù„ÙÙˆØªØ± --- */
        footer { height: 50px; background: #000; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #222; }
        .f-item { cursor: pointer; font-size: 12px; color: #bbb; text-align: center; }
        .f-item:hover { color: var(--gold); }
    </style>
</head>
<body>

    <header>
        <div class="h-btn" onclick="toggleRooms()">ğŸ <br>Ø§Ù„ØºØ±Ù</div>
        <div style="font-weight: bold; color: var(--gold);">ğŸ‘‘ Ø´Ø§Øª Ø§Ù„Ø¨Ø±Ù†Ø³</div>
        <div class="h-btn" onclick="addRoomManually()">â•<br>Ø¥Ø¶Ø§ÙØ© ØºØ±ÙØ©</div>
    </header>

    <div style="flex: 1; position: relative; display: flex;">
        <div id="rooms-panel">
            <div class="room-card">
                <div style="padding:15px; display:flex; justify-content:space-between;">
                    <b>Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©</b> <span>ğŸ‘¥ 159</span>
                </div>
                <div class="room-btn" onclick="toggleRooms()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†</div>
            </div>
            </div>

        <div id="users-panel">
            <div style="padding:10px; background:#eee; font-weight:bold;">Ø§Ù„Ù…ØªÙˆØ§Ø¬Ø¯ÙˆÙ† Ø­Ø§Ù„ÙŠØ§Ù‹</div>
            <div style="padding:15px;">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
                    <div style="width:10px; height:10px; background:green; border-radius:50%;"></div>
                    <span>Ø§Ù„Ø¨Ø±Ù†Ø³ (Ø§Ù„Ù…Ø¯ÙŠØ±)</span>
                </div>
            </div>
        </div>

        <div id="chat-window">
            <div style="text-align:center; font-size:11px; color:#555;">-- Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… --</div>
        </div>

        <div id="yt-player">
            <div class="yt-header">
                <span style="font-size:11px; color:var(--gold)">ğŸ“º Ù…Ø´ØºÙ„ Ø§Ù„Ø¨Ø«</span>
                <div>
                    <span onclick="minVid()" style="cursor:pointer; margin-left:10px;">-</span>
                    <span onclick="closeVid()" style="cursor:pointer; color:red;">X</span>
                </div>
            </div>
            <div id="yt-body" class="yt-body"></div>
        </div>
    </div>

    <div class="input-bar">
        <input type="text" id="msg-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨...">
        <button class="send-btn" onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>
    </div>

    <footer>
        <div class="f-item" onclick="toggleUsers()">ğŸ‘¥ Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†</div>
        <div class="f-item" onclick="toggleRooms()">ğŸ  Ø§Ù„ØºØ±Ù</div>
        <div class="f-item">ğŸ‘¤ Ø¨Ø±ÙˆÙØ§ÙŠÙ„</div>
        <div class="f-item" onclick="location.reload()">ğŸ”„ ØªØ­Ø¯ÙŠØ«</div>
    </footer>

    <script>
        // 1. ÙˆØ¸ÙŠÙØ© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØªØ´ØºÙŠÙ„ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨
        function send() {
            const inp = document.getElementById('msg-input');
            const box = document.getElementById('chat-window');
            if(!inp.value.trim()) return;

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨
            if(inp.value.includes('youtube.com') || inp.value.includes('youtu.be')) {
                const vidId = inp.value.split('v=')[1] || inp.value.split('/').pop();
                document.getElementById('yt-player').style.display = 'block';
                document.getElementById('yt-body').innerHTML = `<iframe src="https://www.youtube.com/embed/${vidId.split('&')[0]}?autoplay=1" frameborder="0" allowfullscreen></iframe>`;
                inp.value = ''; return;
            }

            const html = `<div class="msg"><span class="m-name">Ø§Ù„Ø¨Ø±Ù†Ø³:</span><br>${inp.value}</div>`;
            box.innerHTML += html;
            inp.value = '';
            box.scrollTop = box.scrollHeight;
        }

        // 2. Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØºØ±Ù (ØªØ¸Ù‡Ø± ÙˆØªØ®ØªÙÙŠ)
        function toggleRooms() {
            const p = document.getElementById('rooms-panel');
            p.style.display = (p.style.display === 'grid') ? 'none' : 'grid';
        }

        // 3. Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†
        function toggleUsers() {
            document.getElementById('users-panel').classList.toggle('active');
        }

        // 4. Ø¥Ø¶Ø§ÙØ© ØºØ±ÙØ© ÙŠØ¯ÙˆÙŠØ§Ù‹ (ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø§Ø³ØªØ±)
        function addRoomManually() {
            const name = prompt("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:");
            if(name) {
                const panel = document.getElementById('rooms-panel');
                const div = document.createElement('div');
                div.className = 'room-card';
                div.innerHTML = `
                    <div style="padding:15px; display:flex; justify-content:space-between;">
                        <b>${name}</b> <span>ğŸ‘¥ 0</span>
                    </div>
                    <div class="room-btn" onclick="toggleRooms()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†</div>`;
                panel.appendChild(div);
                alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØºØ±ÙØ© Ø¨Ù†Ø¬Ø§Ø­!");
            }
        }

        // 5. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ (Ø¥ØºÙ„Ø§Ù‚ ÙˆØªØµØºÙŠØ±)
        function closeVid() { 
            document.getElementById('yt-player').style.display = 'none'; 
            document.getElementById('yt-body').innerHTML = '';
        }
        function minVid() {
            document.getElementById('yt-player').classList.toggle('small');
        }

        document.getElementById('msg-input').onkeypress = (e) => { if(e.key === 'Enter') send(); };
    </script>
</body>
</html>
