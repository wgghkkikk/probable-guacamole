<style>
    /* 1. Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù‚Ù„ÙˆØ¨ (Ø§Ù„Ø°ÙŠ Ø§Ø®ØªÙÙ‰ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©) */
    .royal-footer {
        position: fixed;
        bottom: 10px;
        width: 100%;
        display: flex;
        flex-direction: row-reverse; /* Ø§Ù„Ø²Ø± Ø¹Ø§Ù„ÙŠØ³Ø§Ø± Ø¨Ø§Ù„Ù…Ù‚Ù„ÙˆØ¨ */
        padding: 15px;
        z-index: 9999;
        background: rgba(0,0,0,0.9);
        border-top: 2px solid gold;
        gap: 10px;
    }

    #send-btn {
        transform: scaleX(-1); /* Ù‚Ù„Ø¨ Ø§Ù„Ø²Ø± Ù„Ù„Ù‡ÙŠØ¨Ø© */
        background: linear-gradient(45deg, #8b0000, #ff0000);
        color: gold;
        border: 2px solid gold;
        padding: 10px 30px;
        border-radius: 20px;
        cursor: pointer;
        font-weight: bold;
    }

    /* 2. Ø­Ø§ÙˆÙŠØ© "Ø§Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø¤Ù„ÙØ©" (ØªØ¸Ù‡Ø± Ø¨Ù†Øµ Ø§Ù„Ø´Ø§Ø´Ø©) */
    #mega-emoji-palace {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        height: 70%;
        background: rgba(0, 0, 0, 0.98);
        border: 5px double gold;
        z-index: 10000;
        display: none; /* Ù…Ø®ÙÙŠ ÙˆÙŠØ¸Ù‡Ø± Ø¨Ø¶ØºØ·Ø© ğŸ˜Š */
        grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
        overflow-y: scroll;
        padding: 25px;
        border-radius: 30px;
        box-shadow: 0 0 100px red;
    }

    .emoji-item {
        font-size: 35px;
        cursor: pointer;
        padding: 5px;
        transition: 0.2s;
    }
    .emoji-item:hover { transform: scale(1.4); background: rgba(255,215,0,0.2); }
</style>

<div id="users-panel" class="side-panel">
    <div id="king-counter">ğŸ‘¥ Ø§Ù„Ø±Ø¹ÙŠØ©: <span id="online-count">0</span></div> <div class="panel-title">ğ“†© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† ğ“†ª</div>
    <div id="user-list"></div>
</div>

<div id="mega-emoji-palace" id="emoji-box"></div>

<div class="royal-footer">
    <button id="send-btn" onclick="send()">Ø¥Ø±Ø³Ø§Ù„ âŸ¸</button>
    <input type="text" id="msg-in" style="flex:1; background:#111; color:white; border:1px solid gold; border-radius:20px; padding:10px;" placeholder="Ù€ï®©ï®©Ù¨ï®©ï®©ğŸ‘‘ Ù…Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ù„Ùƒ Ø¹Ù„ÙˆØ´ ğŸ‘‘ï®©ï®©Ù¨ï®©ï®©Ù€">
    <button onclick="openEmojiPalace()" style="background:none; border:none; font-size:30px; cursor:pointer;">ğŸ˜Š</button>
</div>

<script>
    // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø¤Ù„ÙØ© Ù…Ù† Ø§Ù„Ø±Ù…ÙˆØ² ÙˆØ§Ù„Ø²Ø®Ø§Ø±Ù ÙÙˆØ±Ø§Ù‹
    function openEmojiPalace() {
        const palace = document.getElementById('mega-emoji-palace');
        if (palace.innerHTML === "") {
            let content = "";
            // Ø³Ø­Ø¨ Ø¢Ù„Ø§Ù Ø§Ù„Ø±Ù…ÙˆØ² ÙˆØ§Ù„Ù…Ù„ØµÙ‚Ø§Øª
            for (let i = 0x1F600; i <= 0x1F64F; i++) content += `<span class="emoji-item" onclick="add('${String.fromCodePoint(i)}')">${String.fromCodePoint(i)}</span>`;
            for (let i = 0x1F300; i <= 0x1F5FF; i++) content += `<span class="emoji-item" onclick="add('${String.fromCodePoint(i)}')">${String.fromCodePoint(i)}</span>`;
            for (let i = 0x2600; i <= 0x26FF; i++) content += `<span class="emoji-item" onclick="add('${String.fromCodePoint(i)}')">${String.fromCodePoint(i)}</span>`;
            palace.innerHTML = content;
        }
        palace.style.display = (palace.style.display === "none" ? "grid" : "none");
    }

    function add(char) {
        document.getElementById('msg-in').value += char;
    }

    function send() {
        // ØªÙ†ÙÙŠØ° Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹ Ø§Ù„Ø±Ø¹Ø¯ ÙˆØ§Ù„Ø¨Ø±Ù‚ ÙˆØ§Ù„Ø²Ù„Ø²Ø§Ù„
        triggerRoyalEffects();
    }
</script>
