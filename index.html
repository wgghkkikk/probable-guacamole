<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø´Ø§Øª Ø§Ù„Ø¨Ø±Ù†Ø³ | Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø§Ø³ØªØ±</title>
    <style>
        :root { --gold: #ff9800; --bg: #0b0b0b; --panel: #1a1a1a; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Tahoma', sans-serif; }
        body { background: var(--bg); color: #fff; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* --- ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ --- */
        #login-screen {
            position: fixed; inset: 0; background: #000; z-index: 2000;
            display: flex; justify-content: center; align-items: center;
        }
        .login-box {
            background: var(--panel); padding: 40px; border-radius: 15px;
            border: 2px solid var(--gold); text-align: center; width: 350px;
        }
        .login-box input {
            width: 100%; padding: 12px; margin: 20px 0; background: #000;
            border: 1px solid #444; color: var(--gold); border-radius: 5px; text-align: center;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø´Ø§Øª --- */
        header { background: #000; padding: 10px 20px; border-bottom: 2px solid var(--gold); display: flex; justify-content: space-between; align-items: center; }
        
        .main-app { display: flex; flex: 1; overflow: hidden; }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† (ÙŠÙ…ÙŠÙ†) */
        .sidebar { width: 260px; background: var(--panel); border-left: 1px solid #333; display: flex; flex-direction: column; }
        .user-card { padding: 15px; border-bottom: 1px solid #222; display: flex; align-items: center; cursor: pointer; }
        .user-card img { width: 35px; height: 35px; border-radius: 50%; margin-left: 10px; border: 1px solid var(--gold); object-fit: cover; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
        .chat-view { flex: 1; display: flex; flex-direction: column; background: #050505; position: relative; }
        #chat-box { flex: 1; padding: 20px; overflow-y: auto; }
        
        .join-msg { background: rgba(255, 152, 0, 0.1); color: var(--gold); padding: 10px; text-align: center; border-radius: 10px; margin-bottom: 20px; font-weight: bold; border: 1px dashed var(--gold); }
        .admin-line { margin-bottom: 10px; border-bottom: 1px solid #1a1a1a; padding-bottom: 5px; }

        /* --- Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Popup) --- */
        .profile-modal {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: #222; border: 2px solid var(--gold); width: 320px;
            padding: 25px; border-radius: 15px; display: none; z-index: 3000; text-align: center;
        }
        .profile-modal img { width: 100px; height: 100px; border-radius: 50%; border: 3px solid var(--gold); margin-bottom: 15px; object-fit: cover; }
        .upload-btn { background: var(--gold); color: #000; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 12px; display: inline-block; margin-bottom: 15px; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© */
        .input-area { padding: 15px; background: #111; border-top: 1px solid #333; display: flex; gap: 10px; }
        #msgInput { flex: 1; padding: 12px; background: #000; border: 1px solid #444; color: #fff; border-radius: 5px; outline: none; }
        .btn-send { background: var(--gold); border: none; padding: 0 25px; border-radius: 5px; font-weight: bold; cursor: pointer; }

    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <h2 style="color:var(--gold)">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø§Ø³ØªØ±</h2>
            <input type="text" id="userNameInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ">
            <button class="btn-send" style="width:100%; height:45px;" onclick="initChat()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†</button>
        </div>
    </div>

    <header>
        <div style="color:var(--gold); font-weight:bold;">ğŸ‘‘ Ù„ÙˆØ­Ø© ØµØ§Ø­Ø¨ Ø§Ù„Ø´Ø§Øª</div>
        <div onclick="toggleProfile()" style="cursor:pointer">ğŸ‘¤ Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</div>
    </header>

    <div class="main-app">
        <div class="sidebar">
            <div style="padding:10px; background:#222; text-align:center; font-size:12px; color:var(--gold)">Ø§Ù„Ù…ØªÙˆØ§Ø¬Ø¯ÙˆÙ† Ø§Ù„Ø¢Ù†</div>
            <div class="user-card">
                <img id="side-avatar" src="https://via.placeholder.com/35">
                <div>
                    <div id="side-name" style="font-weight:bold; color:red;">Ø§Ù„Ù…Ø¯ÙŠØ±</div>
                    <div style="font-size:10px; color:#666;">Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†</div>
                </div>
            </div>
        </div>

        <div class="chat-view">
            <div id="chat-box">
                </div>

            <div class="input-area">
                <input type="text" id="msgInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...">
                <button class="btn-send" onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
            </div>
        </div>
    </div>

    <div id="profileModal" class="profile-modal">
        <h3 style="color:var(--gold); margin-bottom:15px;">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù„ÙÙŠ</h3>
        <img id="profile-img-preview" src="https://via.placeholder.com/100">
        <br>
        <label class="upload-btn">
            ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© Ù…Ù† Ù…Ù„ÙØ§ØªÙƒ
            <input type="file" id="imageUpload" hidden accept="image/*">
        </label>
        <div id="display-name" style="font-weight:bold; font-size:18px; margin-bottom:10px;">Ø§Ù„Ø§Ø³Ù…</div>
        <p style="color:#888; font-size:13px; margin-bottom:20px;">Ø§Ù„Ø±ØªØ¨Ø©: ØµØ§Ø­Ø¨ Ø§Ù„Ø´Ø§Øª</p>
        <button class="btn-send" style="width:100%;" onclick="toggleProfile()">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>

    <script>
        let myName = "";
        let myPhoto = "https://via.placeholder.com/100";

        // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„ØªØ±Ø­ÙŠØ¨
        function initChat() {
            const nameInp = document.getElementById('userNameInput').value;
            if(!nameInp.trim()) return alert("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø£ÙˆÙ„Ø§Ù‹");
            
            myName = nameInp;
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('display-name').innerText = myName;
            document.getElementById('side-name').innerText = myName;

            // Ø±Ø³Ø§Ù„Ø© Ø§Ù†Ø¶Ù…Ø§Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø´Ø§Øª
            const chatBox = document.getElementById('chat-box');
            chatBox.innerHTML += `
                <div class="join-msg">
                    âœ¨ ØªÙ… Ø§Ù†Ø¶Ù…Ø§Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø´Ø§Øª : ( ${myName} ) âœ¨
                </div>
            `;
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
        function sendMessage() {
            const inp = document.getElementById('msgInput');
            const box = document.getElementById('chat-box');
            if(!inp.value.trim()) return;

            box.innerHTML += `
                <div class="admin-line">
                    <span style="color:red; font-weight:bold;">[${myName}]:</span>
                    <span style="color:#00ff00;">${inp.value}</span>
                </div>
            `;
            inp.value = '';
            box.scrollTop = box.scrollHeight;
        }

        // ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        function toggleProfile() {
            const modal = document.getElementById('profileModal');
            modal.style.display = (modal.style.display === 'block') ? 'none' : 'block';
        }

        // ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª
        document.getElementById('imageUpload').addEventListener('change', function(e) {
            const reader = new FileReader();
            reader.onload = function() {
                const url = reader.result;
                document.getElementById('profile-img-preview').src = url;
                document.getElementById('side-avatar').src = url;
                alert("ØªÙ… ØªØ­Ø¯ÙŠØ« ØµÙˆØ±ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø¨Ù†Ø¬Ø§Ø­");
            }
            reader.readAsDataURL(e.target.files[0]);
        });

        // Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± Enter
        document.getElementById('msgInput').addEventListener('keypress', (e) => {
            if(e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>
