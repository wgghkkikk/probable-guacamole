<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ | Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØµØ­Ø­Ø©</title>
    <style>
        :root { --king: #bc13fe; --accent: #00f2fe; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: #000; color: white; font-family: 'Tahoma', sans-serif; height: 100vh; overflow: hidden; }

        header { height: 50px; background: #111; border-bottom: 2px solid var(--king); display: flex; align-items: center; padding: 0 15px; justify-content: space-between; }
        .main-grid { display: grid; grid-template-columns: 260px 1fr 220px; height: calc(100vh - 50px); }

        /* Ù‚Ø³Ù… Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ */
        .yt-side { background: #0a0a0a; border-left: 1px solid #222; padding: 10px; overflow-y: auto; }
        .yt-input { width: 100%; background: #000; border: 1px solid #444; color: white; padding: 10px; border-radius: 5px; margin-bottom: 10px; outline: none; }
        .yt-search-btn { width: 100%; background: #ff0000; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer; font-weight: bold; margin-bottom: 15px; }
        .yt-card { margin-bottom: 15px; cursor: pointer; background: #151515; padding: 5px; border-radius: 5px; border: 1px solid transparent; }
        .yt-card:hover { border-color: var(--king); }
        .yt-card img { width: 100%; border-radius: 5px; }
        .yt-card p { font-size: 11px; margin-top: 5px; color: #ccc; }

        /* Ø§Ù„Ø´Ø§Øª */
        .chat-area { display: flex; flex-direction: column; background: #050505; border-right: 1px solid #222; border-left: 1px solid #222; position: relative; }
        #messages { flex: 1; padding: 15px; overflow-y: auto; }
        #player-overlay { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 260px; background: #000; z-index: 500; border-bottom: 2px solid var(--king); }

        /* Ø§Ù„ÙƒØªØ§Ø¨Ø© */
        .footer { padding: 15px; background: #111; border-top: 1px solid #333; display: flex; gap: 10px; }
        #msgIn { flex: 1; background: #000; border: 1px solid #444; color: white; padding: 12px; border-radius: 5px; outline: none; }
        .send-btn { background: var(--king); color: white; border: none; padding: 0 25px; border-radius: 5px; cursor: pointer; font-weight: bold; }

        .king-glow { font-weight: bold; text-shadow: 0 0 8px var(--king); animation: glow 2s infinite; }
        @keyframes glow { 0%, 100% { color: var(--king); } 50% { color: var(--accent); } }
    </style>
</head>
<body>

<header>
    <div>â˜°</div>
    <div class="king-glow">Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ | Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø«Ø§Ø¨ØªØ©</div>
    <div style="font-size: 11px;">YouTube API Active</div>
</header>

<div class="main-grid">
    <div class="yt-side">
        <input type="text" id="ytSearch" class="yt-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø´ÙŠÙ„Ø©...">
        <button class="yt-search-btn" onclick="searchYT()">ğŸ” Ø¨Ø­Ø« ÙŠÙˆØªÙŠÙˆØ¨</button>
        <div id="yt-list"></div>
    </div>

    <div class="chat-area">
        <div id="player-overlay">
            <button onclick="closePlayer()" style="width:100%; background:#c00; color:white; border:none; padding:5px; cursor:pointer;">Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø£ØºÙ†ÙŠØ© âœ–</button>
            <div id="player-frame"></div>
        </div>
        <div id="messages"></div>
        <div class="footer">
            <input type="text" id="msgIn" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù„Ù„Ù…Ù…Ù„ÙƒØ©...">
            <button class="send-btn" onclick="sendMsg()">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>

    <div class="side-right" style="background: #0a0a0a; padding: 10px;">
        <div style="text-align:center; font-size:12px; color:#444; margin-bottom:10px;">Ø§Ù„Ù…ØªÙˆØ§Ø¬Ø¯ÙˆÙ†</div>
        <div class="king-glow">ğŸ‘‘ Ø¹Ù„ÙˆØ´ Ø§Ù„Ù…Ù„Ùƒ</div>
    </div>
</div>

<script>
    const API_KEY = 'AIzaSyC4wFkLrA_BlNzreseXQLeSp_40Gbmu9VU';

    async function searchYT() {
        const query = document.getElementById('ytSearch').value;
        if(!query) { alert("Ø§ÙƒØªØ¨ Ø´ÙŠØ¦Ø§Ù‹ Ù„Ù„Ø¨Ø­Ø«!"); return; }

        const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=8&q=${encodeURIComponent(query)}&type=video&key=${API_KEY}`;
        
        try {
            const res = await fetch(url);
            const data = await res.json();
            if(data.error) { alert("Ù…Ø´ÙƒÙ„Ø© Ø¨Ø§Ù„Ù…ÙØªØ§Ø­: " + data.error.message); return; }
            
            const list = document.getElementById('yt-list');
            list.innerHTML = '';
            data.items.forEach(item => {
                const card = document.createElement('div');
                card.className = 'yt-card';
                card.onclick = () => {
                    document.getElementById('player-overlay').style.display = 'block';
                    document.getElementById('player-frame').innerHTML = `<iframe width="100%" height="220" src="https://www.youtube.com/embed/${item.id.videoId}?autoplay=1" frameborder="0" allowfullscreen></iframe>`;
                };
                card.innerHTML = `<img src="${item.snippet.thumbnails.medium.url}"><p>${item.snippet.title}</p>`;
                list.appendChild(card);
            });
        } catch(e) { alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø¨Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨"); }
    }
