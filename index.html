<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ğŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ ğŸ‘‘</title>
    <style>
        :root { --gold: #ffd700; }
        body { margin: 0; background: #000; color: white; font-family: 'Segoe UI', Tahoma, sans-serif; overflow: hidden; }

        /* 1. Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„ÙƒÙˆÙ†ÙŠØ© */
        #star-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%); }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle var(--duration) infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 1; transform: scale(1.2); } }

        /* 2. Ø§Ù„Ø³Ø§Ø¹Ø© ÙˆØ§Ù„Ø¨Ø±Ø§ÙˆÙŠØ² Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†Ø© (Rainbow Sync) */
        #royal-clock, .side-panel, .input-area { border: 2px solid var(--gold); animation: rainbow-border 3s linear infinite; }
        #royal-clock { position: fixed; top: 10px; left: 50%; transform: translateX(-50%); padding: 5px 25px; border-radius: 50px; z-index: 3000; background: rgba(0,0,0,0.8); font-weight: bold; }

        @keyframes rainbow-border {
            0%, 100% { border-color: red; box-shadow: 0 0 15px red; }
            50% { border-color: blue; box-shadow: 0 0 25px blue; }
        }

        /* 3. Ø£Ø¬Ù†Ø­Ø© Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø°ÙƒÙŠØ© (ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚) */
        .side-panel { position: fixed; top: 70px; width: 220px; height: calc(100% - 180px); background: rgba(0,0,0,0.9); padding: 15px; z-index: 1000; border-radius: 15px; transition: 0.5s; opacity: 1; }
        #users-panel { right: 10px; }
        #settings-panel { left: 10px; }
        .panel-hidden { transform: scaleX(0); opacity: 0; pointer-events: none; }

        /* 4. Ø®Ø§Ù†Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ÙˆØ§Ù„Ø²Ø± Ø§Ù„Ù…Ù‚Ù„ÙˆØ¨ */
        .input-area { position: fixed; bottom: 0; width: 100%; display: flex; flex-direction: row-reverse; background: rgba(0,0,0,0.9); padding: 15px; gap: 10px; z-index: 3000; }
        #msg-in { flex: 1; padding: 12px; border-radius: 25px; background: #111; color: white; border: 1px solid var(--gold); outline: none; text-align: right; }
        #send-btn { transform: scaleX(-1); background: linear-gradient(45deg, #8b0000, #ff0000); color: gold; border: 2px solid gold; padding: 10px 30px; border-radius: 25px; cursor: pointer; font-weight: bold; }

        /* 5. Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø¹ ÙˆØ§Ù„Ø¨Ø³Ø§Ø· */
        .royal-carpet { background: linear-gradient(90deg, transparent, rgba(139,0,0,0.9), transparent); border-top: 1px solid var(--gold); padding: 15px; margin: 10px 0; }
        .royal-name { font-weight: bold; background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-size: 400%; animation: rainbow-flow 3s linear infinite; }
        @keyframes rainbow-flow { 0% { background-position: 0%; } 100% { background-position: 100%; } }

        /* 6. Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙØ®Ù…Ø© */
        .ctrl-btn { position: fixed; top: 20px; z-index: 4000; background: rgba(0,0,0,0.7); border: 1px solid var(--gold); color: var(--gold); padding: 5px 15px; cursor: pointer; border-radius: 5px; }
    </style>
</head>
<body onload="initKingdom()">
    <div id="star-container"></div>
    <div id="royal-clock">ğŸ•’ 00:00:00</div>

    <button class="ctrl-btn" style="right: 20px;" onclick="togglePanel('users-panel')">â˜° Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†</button>
    <button class="ctrl-btn" style="left: 20px;" onclick="togglePanel('settings-panel')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>

    <div id="users-panel" class="side-panel"><h3 style="text-align:center; color:var(--gold);">ğ“†© Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† ğ“†ª</h3><div id="user-list"></div></div>
    <div id="settings-panel" class="side-panel"><h3 style="text-align:center; color:var(--gold);">ğ“†© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ğ“†ª</h3><button style="width:100%;" onclick="alert('Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ù„Ùƒ Ù…ÙØ¹Ù„Ø©!')">Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© ğŸ›¡ï¸</button></div>

    <div id="chat-container" style="margin: 0 240px; height: 100vh; display: flex; flex-direction: column; justify-content: flex-end;">
        <div id="messages" style="overflow-y: auto; padding: 20px; margin-bottom: 100px;"></div>
        
        <div class="input-area">
            <button id="send-btn" onclick="send()">Ø¥Ø±Ø³Ø§Ù„ âŸ¸</button>
            <input type="text" id="msg-in" placeholder="Ù€ï®©ï®©Ù¨ï®©ï®©ğŸ‘‘ Ù…Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ù„Ùƒ Ø¹Ù„ÙˆØ´ ğŸ‘‘ï®©ï®©Ù¨ï®©ï®©Ù€">
            <button onclick="toggleEmoji()" style="background:none; border:1px solid gold; color:gold; border-radius:50%; width:40px;">ğŸ˜Š</button>
        </div>
    </div>

    <script>
        function initKingdom() {
            setInterval(() => { document.getElementById('royal-clock').innerText = "ğŸ•’ " + new Date().toLocale
