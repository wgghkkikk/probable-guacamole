// 1. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹ - ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ØµÙÙˆÙØ© Ù†Ø¸ÙŠÙØ©
let tiktokData = [
    { id: 1, src: "https://www.w3schools.com/html/mov_bbb.mp4", user: "Ø¹Ù„ÙˆØ´_Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±", likes: 1200, comments: 45 },
    { id: 2, src: "https://www.w3schools.com/html/horse.mp4", user: "ÙØ§Ø±Ø³_Ø§Ù„Ù…Ù…Ù„ÙƒØ©", likes: 850, comments: 12 },
    { id: 3, src: "https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4", user: "Ø±Ø¹Ø¯_Ø¨ØºØ¯Ø§Ø¯", likes: 3000, comments: 89 }
];

function openTikTok() {
    const win = document.getElementById('royal-display');
    win.style.display = 'block';
    document.getElementById('view-title').innerText = "ğŸ¬ ØªÙŠÙƒ ØªÙˆÙƒ Ø§Ù„Ù…Ù…Ù„ÙƒØ© - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ";
    
    // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Backticks Ø§Ù„ØµØ­ÙŠØ­Ø© ( ` )
    document.getElementById('display-content').innerHTML = `
        <div id="tiktok-wrapper" style="height: 75vh; overflow-y: scroll; scroll-snap-type: y mandatory; background: #000; border-radius: 15px;">
            <div id="video-stream"></div>
        </div>
    `;
    renderTikToks(); 
}

function renderTikToks() {
    const stream = document.getElementById('video-stream');
    stream.innerHTML = ""; 

    tiktokData.forEach((video) => {
        const post = document.createElement('div');
        post.className = 'tiktok-post';
        post.style = "height: 100%; scroll-snap-align: start; position: relative; border-bottom: 5px solid #111;";
        
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… concatenation Ù„ØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…ØªØµÙØ­ Ù…Ø¹ Ø§Ù„Ù€ Template Literals ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª
        post.innerHTML = `
            <video width="100%" height="100%" loop autoplay muted style="object-fit:cover;">
                <source src="` + video.src + `" type="video/mp4">
            </video>
            
            <div style="position:absolute; right:15px; bottom:100px; display:flex; flex-direction:column; gap:20px; align-items:center; z-index:100;">
                <div onclick="handleLike(` + video.id + `)" style="cursor:pointer; text-align:center;">
                    <span id="heart-` + video.id + `" style="font-size:30px; color:white;">â¤ï¸</span>
                    <small id="l-count-` + video.id + `" style="display:block; color:white;">` + video.likes + `</small>
                </div>
                <div onclick="alert('ÙØªØ­ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù„Ù„Ù…Ù‚Ø·Ø¹ ` + video.id + `')" style="cursor:pointer; text-align:center;">
                    <span style="font-size:30px; color:white;">ğŸ’¬</span>
                    <small style="display:block; color:white;">` + video.comments + `</small>
                </div>
                <div onclick="this.style.background='white'; this.style.color='black';" style="background:gold; color:black; border-radius:50%; width:35px; height:35px; display:flex; align-items:center; justify-content:center; font-weight:bold; cursor:pointer;">+</div>
            </div>

            <div style="position:absolute; bottom:30px; left:15px; text-shadow:2px 2px 5px #000; z-index:100;">
                <h4 style="margin:0; color:gold;">@` + video.user + `</h4>
                <p style="margin:5px 0; font-size:14px; color:white;">ÙÙŠØ¯ÙŠÙˆ Ù…Ù„ÙƒÙŠ Ø­ØµØ±ÙŠ ğŸ‘‘</p>
            </div>
        `;
        stream.appendChild(post);
    });
}

// Ø¯Ø§Ù„Ø© Ø§Ù„Ù„Ø§ÙŠÙƒ Ù„ØªØ¹Ù…Ù„ ÙÙˆØ±Ø§Ù‹
function handleLike(id) {
    const countLabel = document.getElementById('l-count-' + id);
    const heartIcon = document.getElementById('heart-' + id);
    let currentLikes = parseInt(countLabel.innerText);
    countLabel.innerText = currentLikes + 1;
    heartIcon.style.color = "red";
    heartIcon.style.textShadow = "0 0 10px red";
}
