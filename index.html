<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ğŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­ÙƒÙ… ğŸ‘‘</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root { --main-color: gold; }
        body { background: #000; color: var(--main-color); font-family: sans-serif; margin: 0; overflow: hidden; }
        #royal-header { background: linear-gradient(to bottom, #d4af37, #8a6d3b); color: #000; padding: 15px; font-weight: bold; font-size: 24px; box-shadow: 0 0 20px var(--main-color); }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ© - Ù…Ø®ÙÙŠØ© ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
        #admin-panel { 
            position: fixed; top: 60px; left: 10px; width: 200px; 
            background: rgba(20,20,20,0.95); border: 2px solid var(--main-color); 
            padding: 10px; border-radius: 10px; display: none; z-index: 2000;
        }
        .admin-btn { width: 100%; margin-bottom: 5px; padding: 8px; background: #333; color: gold; border: 1px solid gold; cursor: pointer; font-size: 12px; }

        #chat-screen { height: 60vh; overflow-y: auto; background: rgba(0,0,0,0.9); border: 3px double var(--main-color); margin: 20px auto; width: 90%; padding: 15px; border-radius: 20px; text-align: left; }
        .msg { border-bottom: 1px solid #222; padding: 10px; animation: fadeIn 0.4s; }
        
        #input-area { position: fixed; bottom: 20px; width: 100%; display: flex; justify-content: center; gap: 10px; }
        input { padding: 12px; border-radius: 25px; border: 2px solid var(--main-color); background: #111; color: #fff; width: 60%; }
        .royal-btn { padding: 12px 25px; border-radius: 25px; background: var(--main-color); color: #000; font-weight: bold; border: none; cursor: pointer; }
    </style>
</head>
<body>

    <div id="royal-header" onclick="askAdmin()">ğŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´: Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ğŸ‘‘</div>
    
    <div id="admin-panel">
        <h4 style="margin:0 0 10px 0;">âš™ï¸ ØªØ­ÙƒÙ… Ø§Ù„Ù…Ù„Ùƒ</h4>
        <button class="admin-btn" onclick="clearChat()">ğŸ§¹ Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</button>
        <button class="admin-btn" onclick="changeTheme('#ff0000')">ğŸ”´ ÙˆØ¶Ø¹ Ø§Ù„ØºØ¶Ø¨ (Ø£Ø­Ù…Ø±)</button>
        <button class="admin-btn" onclick="changeTheme('gold')">ğŸŸ¡ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø°Ù‡Ø¨ÙŠ</button>
        <button class="admin-btn" onclick="toggleMaintenance()">âš ï¸ ÙˆØ¶Ø¹ Ø§Ù„ØµÙŠØ§Ù†Ø©</button>
        <p style="font-size: 10px; color: #888;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù„ÙˆØ­Ø©</p>
    </div>

    <div id="chat-screen" id="chat-box"></div>
    
    <div id="input-area">
        <input id="chat-input" type="text" placeholder="Ø£ØµØ¯Ø± Ø£ÙˆØ§Ù…Ø±Ùƒ ÙŠØ§ Ù…Ù„Ùƒ...">
        <button class="royal-btn" onclick="sendMsg()">Ø¥Ø±Ø³Ø§Ù„ âœ¨</button>
    </div>

    <script>
        const firebaseConfig = { databaseURL: "https://alloush-kingdom-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function askAdmin() {
            let pass = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø§Ù„Ù…Ù„ÙƒÙŠØ©:");
            if(pass === "1234") { // ØºÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ù…Ù† Ù‡Ù†Ø§ ÙŠØ§ Ù…Ù„Ùƒ
                let panel = document.getElementById('admin-panel');
                panel.style.display = panel.style.display === "none" ? "block" : "none";
            } else {
                alert("Ù…Ø­Ø§ÙˆÙ„Ø© Ø¯Ø®ÙˆÙ„ ØºÙŠØ± Ù…ØµØ±Ø­ Ø¨Ù‡Ø§! Ø­Ø±Ø³ Ø§Ù„Ù…Ù…Ù„ÙƒØ© ÙŠØ±Ø§Ù‚Ø¨Ùƒ.");
            }
        }

        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function clearChat() {
            if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŸ")) {
                db.ref("messages").remove();
                location.reload();
            }
        }

        function changeTheme(color) {
            document.documentElement.style.setProperty('--main-color', color);
            alert("ØªÙ… ØªØºÙŠÙŠØ± Ù‡ÙŠØ¨Ø© Ø§Ù„Ù…Ù…Ù„ÙƒØ©!");
        }

        function sendMsg() {
            let input = document.getElementById('chat-input');
            if(input.value.trim() !== "") {
                db.ref("messages").push().set({ user: "ğŸ‘‘ Ø¹Ù„ÙˆØ´", text: input.value });
                input.value = "";
            }
        }

        db.ref("messages").on("child_added", (snapshot) => {
            let msg = snapshot.val();
            document.getElementById('chat-screen').innerHTML += `
                <div class="msg"><b style="color:var(--main-color)">${msg.user}:</b> ${msg.text}</div>`;
            document.getElementById('chat-screen').scrollTop = document.getElementById('chat-screen').scrollHeight;
        });

        db.ref("messages").on("child_removed", () => {
            document.getElementById('chat-screen').innerHTML = "";
        });
    </script>
</body>
</html>
