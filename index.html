<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ðŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´ Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© ðŸ‘‘</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { 
            background: radial-gradient(circle, #1a1a1a, #000); 
            color: gold; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            text-align: center; 
            margin: 0; 
            overflow: hidden; 
        }
        #royal-header { 
            background: linear-gradient(to bottom, #d4af37, #8a6d3b); 
            color: #000; 
            padding: 20px; 
            font-weight: bold; 
            font-size: 28px; 
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.5);
            text-shadow: 1px 1px 2px white;
        }
        #stats-bar { 
            display: flex; 
            justify-content: space-around; 
            background: rgba(255, 215, 0, 0.1); 
            padding: 10px; 
            border-bottom: 2px solid gold; 
            font-size: 16px;
        }
        #chat-screen { 
            height: 65vh; 
            overflow-y: auto; 
            background: rgba(0, 0, 0, 0.8); 
            border: 4px double gold; 
            margin: 20px auto; 
            width: 85%; 
            padding: 20px; 
            border-radius: 20px; 
            text-align: left; 
            box-shadow: inset 0 0 30px gold;
        }
        .msg { 
            margin-bottom: 15px; 
            border-bottom: 1px solid #333; 
            padding-bottom: 8px; 
            animation: fadeIn 0.5s;
        }
        .king-name { color: gold; font-weight: bold; text-shadow: 0 0 10px gold; }
        .user-name { color: #fff; font-weight: bold; }

        #input-area { 
            position: fixed; 
            bottom: 30px; 
            width: 100%; 
            display: flex; 
            justify-content: center; 
            gap: 10px;
        }
        input#chat-input { 
            width: 60%; 
            padding: 15px; 
            border-radius: 30px; 
            border: 2px solid gold; 
            background: #111; 
            color: #fff; 
            outline: none;
            font-size: 16px;
        }
        .royal-btn { 
            padding: 15px 35px; 
            border-radius: 30px; 
            background: gold; 
            color: #000; 
            font-weight: bold; 
            cursor: pointer; 
            border: none;
            transition: 0.3s;
        }
        .royal-btn:hover { background: #fff; transform: scale(1.1); }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div id="royal-header">ðŸ‘‘ Ù…Ù…Ù„ÙƒØ© Ø¹Ù„ÙˆØ´: Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ ðŸ‘‘</div>
    
    <div id="stats-bar">
        <span>Ø§Ù„Ø²ÙˆØ§Ø± Ø§Ù„Ø¢Ù†: <b id="visitor-count">1</b></span>
        <span>Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù…Ù„ÙƒØ©: <b style="color: lime;">Ø¢Ù…Ù†Ø© âœ…</b></span>
    </div>

    <div id="chat-screen">
        </div>
    
    <div id="input-area">
        <input id="chat-input" type="text" placeholder="Ø§ÙƒØªØ¨ Ù…Ø±Ø³ÙˆÙ…Ùƒ Ø§Ù„Ù…Ù„ÙƒÙŠ ÙŠØ§ Ø¹Ù„ÙˆØ´...">
        <button class="royal-btn" onclick="sendMsg()">Ø¥Ø±Ø³Ø§Ù„ âœ¨</button>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
        const firebaseConfig = { databaseURL: "https://alloush-kingdom-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // ÙˆØ¸ÙŠÙØ© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        function sendMsg() {
            let input = document.getElementById('chat-input');
            if(input.value.trim() !== "") {
                db.ref("messages").push().set({
                    user: "Ø¹Ù„ÙˆØ´",
                    text: input.value,
                    isKing: true
                });
                input.value = "";
            }
        }

        // Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØ¹Ø±Ø¶Ù‡Ø§
        db.ref("messages").limitToLast(20).on("child_added", (snapshot) => {
            let msg = snapshot.val();
            let nameClass = msg.isKing ? 'king-name' : 'user-name';
            let icon = msg.isKing ? 'ðŸ‘‘ ' : 'ðŸ‘¤ ';
            
            document.getElementById('chat-screen').innerHTML += `
                <div class="msg">
                    <span class="${nameClass}">${icon}${msg.user}:</span> 
                    <span style="color: #ddd;">${msg.text}</span>
                </div>`;
            document.getElementById('chat-screen').scrollTop = document.getElementById('chat-screen').scrollHeight;
        });

        // Ø¹Ø¯Ø§Ø¯ Ø²ÙˆØ§Ø± ÙˆÙ‡Ù…ÙŠ Ù„Ù„ØªÙØ§Ø¹Ù„
        setInterval(() => {
            document.getElementById('visitor-count').innerText = Math.floor(Math.random() * 5) + 1;
        }, 10000);
    </script>
</body>
</html>
