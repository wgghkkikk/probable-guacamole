<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø´Ø§Øª Ø§Ù„Ù…Ø§Ø³ØªØ± - Ø§Ù„Ø¨Ø« Ø§Ù„Ø­ÙŠ</title>
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.29.9.min.js"></script>
    <style>
        :root { --glow: #00f2ff; --master: #ff004c; }
        body { background: #000; color: #fff; margin: 0; display: flex; flex-direction: column; height: 100vh; font-family: sans-serif; overflow: hidden; }
        header { height: 50px; border-bottom: 2px solid var(--glow); text-align: center; line-height: 50px; color: var(--glow); font-weight: bold; box-shadow: 0 0 15px var(--glow); }
        .wrapper { display: flex; flex: 1; overflow: hidden; }
        /* ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ù‡Ø§Øª Ø­Ø³Ø¨ Ø·Ù„Ø¨Ùƒ */
        #right { width: 220px; background: #050505; border-left: 1px solid #222; padding: 15px; }
        #left { width: 220px; background: #050505; border-right: 1px solid #222; padding: 15px; }
        #center { flex: 1; display: flex; flex-direction: column; background: #0a0a0a; }
        #msgs { flex: 1; padding: 20px; overflow-y: auto; }
        .input-bar { padding: 15px; background: #000; display: flex; gap: 10px; border-top: 1px solid #222; }
        input { flex: 1; background: #111; border: 1px solid #333; color: #fff; padding: 12px; border-radius: 25px; outline: none; }
        .btn { background: var(--glow); color: #000; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-weight: bold; width: 100%; margin-bottom: 10px; }
        .rank { background: var(--master); font-size: 10px; padding: 2px 8px; border-radius: 10px; animation: pulse 1s infinite; display: inline-block; }
        .name { color: var(--glow); font-weight: bold; display: block; animation: move 2s infinite; margin-top: 5px; }
        @keyframes pulse { 50% { opacity: 0.5; } }
        @keyframes move { 50% { transform: translateX(5px); } }
        .msg-line { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px; border-right: 4px solid var(--glow); margin-bottom: 10px; }
    </style>
</head>
<body>

<header>MASTER LIVE SYSTEM - Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†</header>

<div class="wrapper">
    <div id="right">
        <div style="color:var(--glow); font-size:12px; margin-bottom:10px;">ğŸ“ Ø§Ù„ØºØ±Ù</div>
        <button class="btn" onclick="addR()">+ Ø¥Ø¶Ø§ÙØ© ØºØ±ÙØ©</button>
        <div id="rooms-list"><button class="btn">Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©</button></div>
        <div style="color:var(--glow); font-size:12px; margin-top:20px;">ğŸ¨ Ø§Ù„ØªØ­ÙƒÙ…</div>
        <button class="btn" style="background:#222; color:#fff;" onclick="location.reload()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Øª</button>
    </div>

    <div id="center">
        <div id="msgs"></div>
        <div class="input-bar">
            <input type="text" id="msgInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ø³ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø¬Ù…ÙŠØ¹...">
            <button class="btn" style="width:auto;" onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>

    <div id="left">
        <div style="color:var(--glow); font-size:12px; text-align:center; margin-bottom:15px;">ğŸ‘¤ Ø§Ù„Ù…ØªØµÙ„ÙˆÙ†</div>
        <div style="background:#111; padding:15px; border-radius:10px; text-align:center; border:1px solid #222;">
            <span class="rank">ØµØ§Ø­Ø¨ Ø§Ù„Ø´Ø§Øª</span>
            <span class="name">Ø§Ù„Ù…Ø§Ø³ØªØ±</span>
            <div style="margin-top:10px; font-size:18px;">ğŸ“© ğŸ¤ â¤ï¸</div>
        </div>
    </div>
</div>

<script>
    // Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø± (Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙˆØ±ÙŠ)
    const pubnub = new PubNub({
        publishKey: 'pub-c-db838685-3004-4363-9524-7667858c0394',
        subscribeKey: 'sub-c-576a166e-c14d-11eb-a010-02da5302672a',
        uuid: "User_" + Math.floor(Math.random() * 999)
    });

    pubnub.subscribe({ channels: ['master_global_chat'] });

    pubnub.addListener({
        message: function(s) {
            let m = document.getElementById('msgs');
            m.innerHTML += `<div class="msg-line"><b style="color:var(--glow)">[Ø²Ø§Ø¦Ø±]:</b> ${s.message.text}</div>`;
            m.scrollTop = m.scrollHeight;
        }
    });

    function send() {
        let i = document.getElementById('msgInput');
        if(i.value) {
            pubnub.publish({ channel: 'master_global_chat', message: { text: i.value } });
            i.value = '';
        }
    }

    function addR() {
        let n = prompt("Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ©:");
        if(n) document.getElementById('rooms-list').innerHTML += `<button class="btn">${n}</button>`;
    }

    document.getElementById('msgInput').onkeypress = (e) => { if(e.key === 'Enter') send(); };
</script>
</body>
</html>
