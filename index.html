<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø´Ø§Øª Ø§Ù„Ù…Ø§Ø³ØªØ± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ</title>
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.29.9.min.js"></script>
    <style>
        :root { --glow: #00f2ff; --master: #ff004c; }
        body { background: #000; color: #fff; margin: 0; display: flex; flex-direction: column; height: 100vh; font-family: sans-serif; overflow: hidden; }
        header { height: 50px; border-bottom: 2px solid var(--glow); text-align: center; line-height: 50px; color: var(--glow); font-weight: bold; }
        .main { display: flex; flex: 1; overflow: hidden; }
        #right { width: 200px; background: #050505; border-left: 1px solid #222; padding: 15px; }
        #left { width: 200px; background: #050505; border-right: 1px solid #222; padding: 15px; }
        #center { flex: 1; display: flex; flex-direction: column; background: #0a0a0a; }
        #msgs { flex: 1; padding: 20px; overflow-y: auto; }
        .input-box { padding: 15px; background: #000; display: flex; gap: 10px; }
        input { flex: 1; background: #111; border: 1px solid #333; color: #fff; padding: 10px; border-radius: 20px; outline: none; }
        .btn { background: var(--glow); color: #000; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-weight: bold; }
        .rank { background: var(--master); font-size: 10px; padding: 2px 8px; border-radius: 10px; animation: flash 1s infinite; }
        .name { color: var(--glow); font-weight: bold; display: block; animation: move 2s infinite; }
        @keyframes flash { 50% { opacity: 0.5; } }
        @keyframes move { 50% { transform: translateX(5px); } }
        .msg-line { background: rgba(255,255,255,0.05); padding: 8px; border-radius: 5px; margin-bottom: 10px; border-right: 3px solid var(--glow); }
    </style>
</head>
<body>

<header>MASTER LIVE SYSTEM - Ø¨Ø« Ø­Ù‚ÙŠÙ‚ÙŠ</header>

<div class="main">
    <div id="right">
        <div style="color:var(--glow); font-size:12px;">ğŸ“ Ø§Ù„ØºØ±Ù</div>
        <button class="btn" style="width:100%; font-size:12px;" onclick="addR()">+ Ø¥Ø¶Ø§ÙØ© ØºØ±ÙØ©</button>
        <div id="rooms-list"><button class="btn" style="width:100%; margin-top:5px;">Ø§Ù„Ø¹Ø§Ù…Ø©</button></div>
    </div>

    <div id="center">
        <div id="msgs"></div>
        <div class="input-box">
            <input type="text" id="msgInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ø³ØªØµÙ„ Ù„Ù„ÙƒÙ„ Ø§Ù„Ø¢Ù†...">
            <button class="btn" onclick="publishMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>

    <div id="left">
        <div style="color:var(--glow); font-size:12px; text-align:center; margin-bottom:15px;">ğŸ‘¤ Ø§Ù„Ù…ØªØµÙ„ÙˆÙ†</div>
        <div style="background:#111; padding:10px; border-radius:10px; text-align:center; border:1px solid #222;">
            <span class="rank">ØµØ§Ø­Ø¨ Ø§Ù„Ø´Ø§Øª</span>
            <span class="name">Ø§Ù„Ù…Ø§Ø³ØªØ±</span>
            <div style="margin-top:5px;">ğŸ“© ğŸ¤ â¤ï¸</div>
        </div>
    </div>
</div>

<script>
    // Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„ÙƒÙŠ ÙŠØ¹Ù…Ù„ Ø§Ù„Ø´Ø§Øª ÙÙˆØ±Ø§Ù‹ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
    const pubnub = new PubNub({
        publishKey: 'pub-c-db838685-3004-4363-9524-7667858c0394',
        subscribeKey: 'sub-c-576a166e-c14d-11eb-a010-02da5302672a',
        uuid: "Master_" + Math.random().toString(16).slice(2)
    });

    // Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ù‚Ù†Ø§Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
    pubnub.subscribe({ channels: ['master_chat'] });

    // Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø£ÙŠ Ø¬Ù‡Ø§Ø² Ø¢Ø®Ø±
    pubnub.addListener({
        message: function(event) {
            const msgsDiv = document.getElementById('messages');
            const msgHtml = `<div class="msg-line"><b style="color:var(--master)">[Ø´Ø®Øµ Ù…Ø§]:</b> ${event.message.text}</div>`;
            document.getElementById('msgs').innerHTML += msgHtml;
            document.getElementById('msgs').scrollTop = document.getElementById('msgs').scrollHeight;
        }
    });

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„ÙƒÙŠ ÙŠØ±Ø§Ù‡Ø§ Ø§Ù„Ø¬Ù…ÙŠØ¹
    function publishMessage() {
        const inp = document.getElementById('msgInput');
        if(inp.value) {
            pubnub.publish({
                channel: 'master_chat',
                message: { text: inp.value }
            });
            inp.value = '';
        }
    }

    function addR() {
        let n = prompt("Ø§Ø³Ù… Ø§Ù„ØºØ±ÙØ©:");
        if(n) document.getElementById('rooms-list').innerHTML += `<button class="btn" style="width:100%; margin-top:5px;">${n}</button>`;
    }
</script>

</body>
</html>
