<style>
    /* 1. ØªØµØ­ÙŠØ­ Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ (Ù„ÙŠÙƒÙˆÙ† ÙˆØ§Ø¶Ø­Ø§Ù‹ ÙˆØºÙŠØ± Ù…Ù‚Ù„ÙˆØ¨ Ø§Ù„Ù†Øµ) */
    .input-wrapper {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        display: flex;
        flex-direction: row-reverse; /* ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ù„Ù…Ù‚Ù„ÙˆØ¨ */
        align-items: center;
        background: #222;
        border: 2px solid gold;
        border-radius: 50px;
        padding: 5px 15px;
        z-index: 9999;
    }

    #send-btn {
        background: red;
        color: white;
        border: 2px solid gold;
        border-radius: 30px;
        padding: 10px 25px;
        cursor: pointer;
        font-weight: bold;
        direction: rtl; /* ØªØµØ­ÙŠØ­ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø²Ø± */
    }

    /* 2. Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø¤Ù„ÙØ© (ØªØ¸Ù‡Ø± ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø©) */
    #mega-emoji-palace {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 85%;
        height: 60%;
        background: rgba(0, 0, 0, 0.95);
        border: 3px double gold;
        border-radius: 20px;
        z-index: 10000;
        display: none; /* ØªÙØªØ­ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ */
        grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
        overflow-y: auto;
        padding: 20px;
        box-shadow: 0 0 50px red;
    }

    .emoji-item { font-size: 30px; cursor: pointer; padding: 5px; text-align: center; }
</style>

<div id="users-panel" class="side-panel">
    <div style="color:gold; text-align:center; padding:10px; border:1px solid gold; border-radius:10px;">
        ğŸ‘¥ Ø§Ù„Ø±Ø¹ÙŠØ©: <span id="online-count">0</span>
    </div>
</div>

<div class="input-wrapper">
    <button id="send-btn" onclick="send()">Ø¥Ø±Ø³Ø§Ù„ âŸ¸</button>
    <input type="text" id="msg-in" style="flex:1; background:none; border:none; color:white; padding:10px; text-align:right;" placeholder="Ù€ï®©ï®©Ù¨ï®©ï®©ğŸ‘‘ Ù…Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ù„Ùƒ Ø¹Ù„ÙˆØ´ ğŸ‘‘ï®©ï®©Ù¨ï®©ï®©Ù€">
    <span onclick="openEmojiPalace()" style="cursor:pointer; font-size:30px;">ğŸ˜Š</span>
</div>

<div id="mega-emoji-palace"></div>

<script>
    // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø¤Ù„ÙØ© ÙÙˆØ±Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨
    function openEmojiPalace() {
        const palace = document.getElementById('mega-emoji-palace');
        if (palace.innerHTML === "") {
            let items = "";
            // Ø¥Ø¶Ø§ÙØ© Ø¢Ù„Ø§Ù Ø§Ù„Ø±Ù…ÙˆØ² ÙˆØ§Ù„Ø²Ø®Ø§Ø±Ù
            const ranges = [[0x1F600, 0x1F64F], [0x1F300, 0x1F5FF], [0x1F900, 0x1F9FF], [0x2600, 0x26FF]];
            ranges.forEach(r => {
                for (let i = r[0]; i <= r[1]; i++) {
                    items += `<span class="emoji-item" onclick="document.getElementById('msg-in').value += '${String.fromCodePoint(i)}'">${String.fromCodePoint(i)}</span>`;
                }
            });
            // Ø¥Ø¶Ø§ÙØ© Ø²Ø®Ø§Ø±Ù Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ (Ø§Ù„Ø¢Ù„Ø§Ù Ø§Ù„Ù…Ø¤Ù„ÙØ©)
            const decorations = ["å", "äº—", "ğ“†©ğ“†ª", "ê§ê§‚", "âš”ï¸", "ğŸ’", "ğŸ”¥", "ğŸ§¿"];
            decorations.forEach(d => {
                items += `<span class="emoji-item" onclick="document.getElementById('msg-in').value += '${d}'">${d}</span>`;
            });
            palace.innerHTML = items;
        }
        palace.style.display = (palace.style.display === "none" ? "grid" : "none");
    }

    function send() {
        // ØªÙ†ÙÙŠØ° Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¹ Ø§Ù„Ø±Ø¹Ø¯ ÙˆØ§Ù„Ø¨Ø±Ù‚ ÙˆØ§Ù„Ø²Ù„Ø²Ø§Ù„
        console.log("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù…Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ù„Ùƒ!");
    }
</script>
